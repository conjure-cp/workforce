import{s as q,A as p,B as I,e as N,a as G,c as P,b as T,g as H,f as w,r as j,i as z,h as J,o as L,u as O,p as Q,q as U,n as Z}from"../chunks/scheduler.BBjPsOby.js";import{S as E,i as A,f as F,c as K,a as v,m as y,t as k,b as V,d as S}from"../chunks/index.Blpof1Of.js";import{T as $}from"../chunks/top_bar.cpRQnOn-.js";import{S as x}from"../chunks/person-tooltip.DF9jlQ08.js";import{s as W}from"../chunks/stores.B5weIwWE.js";import{w as X}from"../chunks/index.CyzDVJoj.js";import{c as ee}from"../chunks/index.DrxVjT72.js";import{D as te,c as Y,a as D,C as ae}from"../chunks/column-hide-selector.CYi4cDhm.js";import{S as se}from"../chunks/skill-badge.BncrPgQN.js";import{T as le,P as ie}from"../chunks/tasks-list.DqfypBJw.js";function ne(a){let e,i,l,t,n,d;function c(f){a[7](f)}function r(f){a[8](f)}function m(f){a[9](f)}function _(f){a[10](f)}let g={data:a[4],columnInitializers:a[6],class:a[5]};return a[0]!==void 0&&(g.filterValue=a[0]),a[1]!==void 0&&(g.sortKeys=a[1]),a[2]!==void 0&&(g.hideForId=a[2]),a[3]!==void 0&&(g.flatColumns=a[3]),e=new te({props:g}),p.push(()=>F(e,"filterValue",c)),p.push(()=>F(e,"sortKeys",r)),p.push(()=>F(e,"hideForId",m)),p.push(()=>F(e,"flatColumns",_)),{c(){K(e.$$.fragment)},l(f){v(e.$$.fragment,f)},m(f,b){y(e,f,b),d=!0},p(f,[b]){const s={};b&16&&(s.data=f[4]),b&32&&(s.class=f[5]),!i&&b&1&&(i=!0,s.filterValue=f[0],I(()=>i=!1)),!l&&b&2&&(l=!0,s.sortKeys=f[1],I(()=>l=!1)),!t&&b&4&&(t=!0,s.hideForId=f[2],I(()=>t=!1)),!n&&b&8&&(n=!0,s.flatColumns=f[3],I(()=>n=!1)),e.$set(s)},i(f){d||(k(e.$$.fragment,f),d=!0)},o(f){V(e.$$.fragment,f),d=!1},d(f){S(e,f)}}}function re(a,e,i){let{data:l=W}=e,{filterValue:t=X("")}=e,{sortKeys:n=Y([])}=e,{hideForId:d={}}=e,{flatColumns:c}=e,{class:r=""}=e;const m=[{id:"icon",accessor:s=>s,header:"Icon",cell:s=>D(se,{skill:s.value}),plugins:{tableFilter:{disable:!0},sort:{disable:!0}}},{id:"name",accessor:"name",header:"Name",cell:s=>ee(s.value)},{id:"description",accessor:"description",header:"Description"},{id:"tasks",accessor:s=>s.tasks,header:"Required for tasks",cell:s=>D(le,{tasks:s.value}),plugins:{tableFilter:{getFilterValue:s=>s.map(h=>h.name).join(" ")},sort:{getSortValue:s=>s.map(h=>h.name).join(" ")}}},{id:"people",accessor:s=>s.people,header:"People with this skill",cell:s=>D(ie,{people:s.value,compact:!0}),plugins:{tableFilter:{getFilterValue:s=>s.map(h=>h.name).join(" ")},sort:{getSortValue:s=>s.map(h=>h.name).join(" ")}}}];function _(s){t=s,i(0,t)}function g(s){n=s,i(1,n)}function f(s){d=s,i(2,d)}function b(s){c=s,i(3,c)}return a.$$set=s=>{"data"in s&&i(4,l=s.data),"filterValue"in s&&i(0,t=s.filterValue),"sortKeys"in s&&i(1,n=s.sortKeys),"hideForId"in s&&i(2,d=s.hideForId),"flatColumns"in s&&i(3,c=s.flatColumns),"class"in s&&i(5,r=s.class)},[t,n,d,c,l,r,m,_,g,f,b]}class oe extends E{constructor(e){super(),A(this,e,re,ne,q,{data:4,filterValue:0,sortKeys:1,hideForId:2,flatColumns:3,class:5})}}const fe=a=>({}),B=a=>({}),ue=a=>({}),M=a=>({});function de(a){let e;const i=a[6].start,l=L(i,a,a[13],B);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,n){l&&l.m(t,n),e=!0},p(t,n){l&&l.p&&(!e||n&8192)&&O(l,i,t,t[13],e?U(i,t[13],n,fe):Q(t[13]),B)},i(t){e||(k(l,t),e=!0)},o(t){V(l,t),e=!1},d(t){l&&l.d(t)}}}function me(a){let e;const i=a[6].middle,l=L(i,a,a[13],M);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,n){l&&l.m(t,n),e=!0},p(t,n){l&&l.p&&(!e||n&8192)&&O(l,i,t,t[13],e?U(i,t[13],n,ue):Q(t[13]),M)},i(t){e||(k(l,t),e=!0)},o(t){V(l,t),e=!1},d(t){l&&l.d(t)}}}function ce(a){let e,i,l,t,n;function d(r){a[7](r)}let c={flatColumns:a[4]};return a[5]!==void 0&&(c.hideForId=a[5]),e=new ae({props:c}),p.push(()=>F(e,"hideForId",d)),t=new x({props:{onInput:a[8]}}),{c(){K(e.$$.fragment),l=G(),K(t.$$.fragment)},l(r){v(e.$$.fragment,r),l=H(r),v(t.$$.fragment,r)},m(r,m){y(e,r,m),z(r,l,m),y(t,r,m),n=!0},p(r,m){const _={};m&16&&(_.flatColumns=r[4]),!i&&m&32&&(i=!0,_.hideForId=r[5],I(()=>i=!1)),e.$set(_);const g={};m&4&&(g.onInput=r[8]),t.$set(g)},i(r){n||(k(e.$$.fragment,r),k(t.$$.fragment,r),n=!0)},o(r){V(e.$$.fragment,r),V(t.$$.fragment,r),n=!1},d(r){r&&w(l),S(e,r),S(t,r)}}}function _e(a){let e,i,l,t,n,d,c,r,m,_;i=new $({props:{sticky:!0,$$slots:{end:[ce],middle:[me],start:[de]},$$scope:{ctx:a}}});function g(u){a[9](u)}function f(u){a[10](u)}function b(u){a[11](u)}function s(u){a[12](u)}let h={data:a[0],class:"w-full"};return a[2]!==void 0&&(h.filterValue=a[2]),a[3]!==void 0&&(h.sortKeys=a[3]),a[5]!==void 0&&(h.hideForId=a[5]),a[4]!==void 0&&(h.flatColumns=a[4]),t=new oe({props:h}),p.push(()=>F(t,"filterValue",g)),p.push(()=>F(t,"sortKeys",f)),p.push(()=>F(t,"hideForId",b)),p.push(()=>F(t,"flatColumns",s)),{c(){e=N("div"),K(i.$$.fragment),l=G(),K(t.$$.fragment),this.h()},l(u){e=P(u,"DIV",{class:!0});var o=T(e);v(i.$$.fragment,o),l=H(o),v(t.$$.fragment,o),o.forEach(w),this.h()},h(){j(e,"class",m="h-full w-full flex flex-col items-start justify-start overflow-y-scroll "+a[1])},m(u,o){z(u,e,o),y(i,e,null),J(e,l),y(t,e,null),_=!0},p(u,[o]){const R={};o&8244&&(R.$$scope={dirty:o,ctx:u}),i.$set(R);const C={};o&1&&(C.data=u[0]),!n&&o&4&&(n=!0,C.filterValue=u[2],I(()=>n=!1)),!d&&o&8&&(d=!0,C.sortKeys=u[3],I(()=>d=!1)),!c&&o&32&&(c=!0,C.hideForId=u[5],I(()=>c=!1)),!r&&o&16&&(r=!0,C.flatColumns=u[4],I(()=>r=!1)),t.$set(C),(!_||o&2&&m!==(m="h-full w-full flex flex-col items-start justify-start overflow-y-scroll "+u[1]))&&j(e,"class",m)},i(u){_||(k(i.$$.fragment,u),k(t.$$.fragment,u),_=!0)},o(u){V(i.$$.fragment,u),V(t.$$.fragment,u),_=!1},d(u){u&&w(e),S(i),S(t)}}}function he(a,e,i){let{$$slots:l={},$$scope:t}=e,{data:n=W}=e,d=X(""),c=Y([]),r,m={},{class:_=""}=e;function g(o){m=o,i(5,m)}const f=o=>d.set(o);function b(o){d=o,i(2,d)}function s(o){c=o,i(3,c)}function h(o){m=o,i(5,m)}function u(o){r=o,i(4,r)}return a.$$set=o=>{"data"in o&&i(0,n=o.data),"class"in o&&i(1,_=o.class),"$$scope"in o&&i(13,t=o.$$scope)},[n,_,d,c,r,m,l,g,f,b,s,h,u,t]}class ge extends E{constructor(e){super(),A(this,e,he,_e,q,{data:0,class:1})}}function be(a){let e,i,l,t;return l=new ge({}),{c(){e=N("div"),i=N("main"),K(l.$$.fragment),this.h()},l(n){e=P(n,"DIV",{class:!0});var d=T(e);i=P(d,"MAIN",{class:!0});var c=T(i);v(l.$$.fragment,c),c.forEach(w),d.forEach(w),this.h()},h(){j(i,"class","w-full h-dvh p-4"),j(e,"class","bg-gray-50 w-full")},m(n,d){z(n,e,d),J(e,i),y(l,i,null),t=!0},p:Z,i(n){t||(k(l.$$.fragment,n),t=!0)},o(n){V(l.$$.fragment,n),t=!1},d(n){n&&w(e),S(l)}}}class Se extends E{constructor(e){super(),A(this,e,null,be,q,{})}}export{Se as component};
