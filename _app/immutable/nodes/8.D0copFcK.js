import{s as R,y as b,A as F,e as q,a as G,c as A,b as D,g as H,f as w,r as T,i as z,h as J,o as L,u as Q,p as U,q as W,n as $}from"../chunks/scheduler.Dqeyb07-.js";import{S as N,i as P,f as I,c as K,a as y,m as v,t as k,b as C,d as S}from"../chunks/index.CDmL5F_N.js";import{T as x}from"../chunks/top_bar.C-CsINrU.js";import{S as ee}from"../chunks/person-tooltip.Bp7EH7iM.js";import{t as X,j as M}from"../chunks/person.6aFvVD2M.js";import{w as Y}from"../chunks/parse.BNSP2rwc.js";import{D as te,c as j,R as ae,a as Z,C as se}from"../chunks/row-actions.88vFMuwx.js";import{T as le,P as ne}from"../chunks/task-badge.NjCSOl2A.js";import{S as ie}from"../chunks/skills-list._P_5_OOy.js";import{c as re}from"../chunks/index.9Jq4onGE.js";import{C as oe}from"../chunks/constraints-for-list.O2sdCg9I.js";import{g as fe,a as ue}from"../chunks/task.JcWy7POC.js";function de(s){let e,n,l,t,r,d;function m(u){s[7](u)}function o(u){s[8](u)}function c(u){s[9](u)}function _(u){s[10](u)}let g={data:s[4],columnInitializers:s[6],class:s[5]};return s[0]!==void 0&&(g.filterValue=s[0]),s[1]!==void 0&&(g.sortKeys=s[1]),s[2]!==void 0&&(g.hideForId=s[2]),s[3]!==void 0&&(g.flatColumns=s[3]),e=new te({props:g}),b.push(()=>I(e,"filterValue",m)),b.push(()=>I(e,"sortKeys",o)),b.push(()=>I(e,"hideForId",c)),b.push(()=>I(e,"flatColumns",_)),{c(){K(e.$$.fragment)},l(u){y(e.$$.fragment,u)},m(u,h){v(e,u,h),d=!0},p(u,[h]){const p={};h&16&&(p.data=u[4]),h&32&&(p.class=u[5]),!n&&h&1&&(n=!0,p.filterValue=u[0],F(()=>n=!1)),!l&&h&2&&(l=!0,p.sortKeys=u[1],F(()=>l=!1)),!t&&h&4&&(t=!0,p.hideForId=u[2],F(()=>t=!1)),!r&&h&8&&(r=!0,p.flatColumns=u[3],F(()=>r=!1)),e.$set(p)},i(u){d||(k(e.$$.fragment,u),d=!0)},o(u){C(e.$$.fragment,u),d=!1},d(u){S(e,u)}}}function ce(s,e,n){let{data:l=X}=e,t=new Map,{filterValue:r=Y("")}=e,{sortKeys:d=Z([])}=e,{hideForId:m={}}=e,{flatColumns:o}=e,{class:c=""}=e,_=[{id:"icon",accessor:a=>a,header:"Icon",cell:a=>j(le,{task:a.value}),plugins:{tableFilter:{disable:!0},sort:{disable:!0}}},{id:"name",accessor:"name",header:"Name",cell:a=>re(a.value)},{id:"description",accessor:"description",header:"Description"},{id:"people",accessor:a=>fe(a),header:"Assigned people",cell:a=>j(ne,{people:a.value,compact:!0}),plugins:{tableFilter:{getFilterValue:a=>a.map(i=>i.name).join(" ")},sort:{getSortValue:a=>a.map(i=>i.name).join(" ")}}},{id:"required_skills",accessor:a=>ue(a),header:"Required skills",cell:a=>j(ie,{skills:a.value,compact:!0}),plugins:{tableFilter:{getFilterValue:a=>a.map(i=>i.name).join(" ")},sort:{getSortValue:a=>a.map(i=>i.name).join(" ")}}},{id:"constraints",accessor:a=>a,header:"Constraints",cell:a=>j(oe,{forOperand:a.value}),plugins:{tableFilter:{getFilterValue:a=>M(a).map(i=>i.type).join(" ")},sort:{getSortValue:a=>M(a).map(i=>i.type).join(" ")}}}];t.size>0&&_.push({id:"actions",accessor:a=>a,header:"Actions",cell:a=>j(ae,{item:a.value,actions:t}),plugins:{tableFilter:{disable:!0},sort:{disable:!0}}});function g(a){r=a,n(0,r)}function u(a){d=a,n(1,d)}function h(a){m=a,n(2,m)}function p(a){o=a,n(3,o)}return s.$$set=a=>{"data"in a&&n(4,l=a.data),"filterValue"in a&&n(0,r=a.filterValue),"sortKeys"in a&&n(1,d=a.sortKeys),"hideForId"in a&&n(2,m=a.hideForId),"flatColumns"in a&&n(3,o=a.flatColumns),"class"in a&&n(5,c=a.class)},[r,d,m,o,l,c,_,g,u,h,p]}class me extends N{constructor(e){super(),P(this,e,ce,de,R,{data:4,filterValue:0,sortKeys:1,hideForId:2,flatColumns:3,class:5})}}const _e=s=>({}),O=s=>({}),ge=s=>({}),B=s=>({});function he(s){let e;const n=s[6].start,l=L(n,s,s[13],O);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,r){l&&l.m(t,r),e=!0},p(t,r){l&&l.p&&(!e||r&8192)&&Q(l,n,t,t[13],e?W(n,t[13],r,_e):U(t[13]),O)},i(t){e||(k(l,t),e=!0)},o(t){C(l,t),e=!1},d(t){l&&l.d(t)}}}function pe(s){let e;const n=s[6].middle,l=L(n,s,s[13],B);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,r){l&&l.m(t,r),e=!0},p(t,r){l&&l.p&&(!e||r&8192)&&Q(l,n,t,t[13],e?W(n,t[13],r,ge):U(t[13]),B)},i(t){e||(k(l,t),e=!0)},o(t){C(l,t),e=!1},d(t){l&&l.d(t)}}}function be(s){let e,n,l,t,r;function d(o){s[7](o)}let m={flatColumns:s[4]};return s[5]!==void 0&&(m.hideForId=s[5]),e=new se({props:m}),b.push(()=>I(e,"hideForId",d)),t=new ee({props:{onInput:s[8]}}),{c(){K(e.$$.fragment),l=G(),K(t.$$.fragment)},l(o){y(e.$$.fragment,o),l=H(o),y(t.$$.fragment,o)},m(o,c){v(e,o,c),z(o,l,c),v(t,o,c),r=!0},p(o,c){const _={};c&16&&(_.flatColumns=o[4]),!n&&c&32&&(n=!0,_.hideForId=o[5],F(()=>n=!1)),e.$set(_);const g={};c&4&&(g.onInput=o[8]),t.$set(g)},i(o){r||(k(e.$$.fragment,o),k(t.$$.fragment,o),r=!0)},o(o){C(e.$$.fragment,o),C(t.$$.fragment,o),r=!1},d(o){o&&w(l),S(e,o),S(t,o)}}}function Fe(s){let e,n,l,t,r,d,m,o,c,_;n=new x({props:{sticky:!0,$$slots:{end:[be],middle:[pe],start:[he]},$$scope:{ctx:s}}});function g(i){s[9](i)}function u(i){s[10](i)}function h(i){s[11](i)}function p(i){s[12](i)}let a={data:s[0],class:"w-full"};return s[2]!==void 0&&(a.filterValue=s[2]),s[3]!==void 0&&(a.sortKeys=s[3]),s[4]!==void 0&&(a.flatColumns=s[4]),s[5]!==void 0&&(a.hideForId=s[5]),t=new me({props:a}),b.push(()=>I(t,"filterValue",g)),b.push(()=>I(t,"sortKeys",u)),b.push(()=>I(t,"flatColumns",h)),b.push(()=>I(t,"hideForId",p)),{c(){e=q("div"),K(n.$$.fragment),l=G(),K(t.$$.fragment),this.h()},l(i){e=A(i,"DIV",{class:!0});var f=D(e);y(n.$$.fragment,f),l=H(f),y(t.$$.fragment,f),f.forEach(w),this.h()},h(){T(e,"class",c="h-full w-full flex flex-col items-start justify-start overflow-y-scroll "+s[1])},m(i,f){z(i,e,f),v(n,e,null),J(e,l),v(t,e,null),_=!0},p(i,[f]){const E={};f&8244&&(E.$$scope={dirty:f,ctx:i}),n.$set(E);const V={};f&1&&(V.data=i[0]),!r&&f&4&&(r=!0,V.filterValue=i[2],F(()=>r=!1)),!d&&f&8&&(d=!0,V.sortKeys=i[3],F(()=>d=!1)),!m&&f&16&&(m=!0,V.flatColumns=i[4],F(()=>m=!1)),!o&&f&32&&(o=!0,V.hideForId=i[5],F(()=>o=!1)),t.$set(V),(!_||f&2&&c!==(c="h-full w-full flex flex-col items-start justify-start overflow-y-scroll "+i[1]))&&T(e,"class",c)},i(i){_||(k(n.$$.fragment,i),k(t.$$.fragment,i),_=!0)},o(i){C(n.$$.fragment,i),C(t.$$.fragment,i),_=!1},d(i){i&&w(e),S(n),S(t)}}}function Ie(s,e,n){let{$$slots:l={},$$scope:t}=e,{data:r=X}=e,d=Y(""),m=Z([]),o,c={},{class:_=""}=e;function g(f){c=f,n(5,c)}const u=f=>d.set(f);function h(f){d=f,n(2,d)}function p(f){m=f,n(3,m)}function a(f){o=f,n(4,o)}function i(f){c=f,n(5,c)}return s.$$set=f=>{"data"in f&&n(0,r=f.data),"class"in f&&n(1,_=f.class),"$$scope"in f&&n(13,t=f.$$scope)},[r,_,d,m,o,c,l,g,u,h,p,a,i,t]}class ke extends N{constructor(e){super(),P(this,e,Ie,Fe,R,{data:0,class:1})}}function Ce(s){let e,n,l,t;return l=new ke({}),{c(){e=q("div"),n=q("main"),K(l.$$.fragment),this.h()},l(r){e=A(r,"DIV",{class:!0});var d=D(e);n=A(d,"MAIN",{class:!0});var m=D(n);y(l.$$.fragment,m),m.forEach(w),d.forEach(w),this.h()},h(){T(n,"class","w-full h-dvh p-4"),T(e,"class","bg-gray-50 w-full")},m(r,d){z(r,e,d),J(e,n),v(l,n,null),t=!0},p:$,i(r){t||(k(l.$$.fragment,r),t=!0)},o(r){C(l.$$.fragment,r),t=!1},d(r){r&&w(e),S(l)}}}class ze extends N{constructor(e){super(),P(this,e,null,Ce,R,{})}}export{ze as component};
