import{e as l}from"./index.CnppDyH9.js";import{v as O}from"./scheduler.BnYkJXHO.js";import{w as d}from"./index.OsepGq8G.js";var o=(u=>(u[u.NO_WORK_TOGETHER=0]="NO_WORK_TOGETHER",u[u.NO_PERSON_AT_LOCATION=1]="NO_PERSON_AT_LOCATION",u[u.NO_TASK_AT_LOCATION=2]="NO_TASK_AT_LOCATION",u[u.PERSON_CANNOT_DO_TASK=3]="PERSON_CANNOT_DO_TASK",u))(o||{});function _(u,e){switch(u.type){case 0:return u.people.map(t=>t.uuid).includes(e.uuid);case 1:return u.person.uuid===e.uuid||u.location.uuid===e.uuid;case 2:return u.task.uuid===e.uuid||u.location.uuid===e.uuid;case 3:return u.person.uuid===e.uuid||u.task.uuid===e.uuid}}const I=d([]),p=d([]),S=d([]),N=d([]),c=d([]),U=d([]);function h(u){N.update(e=>e.map(t=>(t.people=t.people.filter(r=>r.uuid!==u.uuid),t))),c.update(e=>e.filter(t=>!_(t,u))),p.update(e=>e.filter(t=>t.uuid!==u.uuid))}var n=[];for(var i=0;i<256;++i)n.push((i+256).toString(16).slice(1));function g(u,e=0){return(n[u[e+0]]+n[u[e+1]]+n[u[e+2]]+n[u[e+3]]+"-"+n[u[e+4]]+n[u[e+5]]+"-"+n[u[e+6]]+n[u[e+7]]+"-"+n[u[e+8]]+n[u[e+9]]+"-"+n[u[e+10]]+n[u[e+11]]+n[u[e+12]]+n[u[e+13]]+n[u[e+14]]+n[u[e+15]]).toLowerCase()}var a,A=new Uint8Array(16);function T(){if(!a&&(a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(A)}var m=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const s={randomUUID:m};function R(u,e,t){if(s.randomUUID&&!e&&!u)return s.randomUUID();u=u||{};var r=u.random||(u.rng||T)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,g(r)}function w(u){return{uuid:R(),...u}}function P(u){return l(u.name)}function D(u){return new Date().getFullYear()-u.birthday.getFullYear()}function b(u){return O(c).filter(t=>{switch(t.type){case o.NO_PERSON_AT_LOCATION:return t.person.uuid===u.uuid;case o.NO_WORK_TOGETHER:return t.people.map(r=>r.uuid).includes(u.uuid);default:return!1}})}export{o as C,U as a,b,c,h as d,p as e,w as f,P as g,D as h,S as l,I as s,N as t,R as v};
