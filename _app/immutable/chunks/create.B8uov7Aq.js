import{w as x}from"./parse.CGS5iDJ8.js";import{i as g,e as u,w as I,h as v,t as w,m as y}from"./index.DHhclV0E.js";import{s as A}from"./person-tooltip.IA9QJFDW.js";import{v as C}from"./scheduler.D7QzIRLN.js";function D(e){e.setAttribute("data-highlighted","")}function N(e){e.removeAttribute("data-highlighted")}function S(e,t=500){let n=null;return function(...r){const o=()=>{n=null,e(...r)};n&&clearTimeout(n),n=setTimeout(o,t)}}function T(e){g&&A(1).then(()=>{const t=document.activeElement;!u(t)||t===e||(t.tabIndex=-1,e&&(e.tabIndex=0,e.focus()))})}function b(){return Array.from(document.querySelectorAll('a[href]:not([tabindex="-1"]), button:not([disabled]):not([tabindex="-1"]), input:not([disabled]):not([tabindex="-1"]), select:not([disabled]):not([tabindex="-1"]), textarea:not([disabled]):not([tabindex="-1"]), [tabindex]:not([tabindex="-1"])'))}function W(e){const t=b(),r=t.indexOf(e)+1,o=t[r];return r<t.length&&u(o)?o:null}function _(e){const t=b(),r=t.indexOf(e)-1,o=t[r];return r>=0&&u(o)?o:null}const E=new Set(["Shift","Control","Alt","Meta","CapsLock","NumLock"]),L={onMatch:T,getCurrentItem:()=>document.activeElement};function j(e={}){const t={...L,...e},n=I(x([])),r=S(()=>{n.update(()=>[])});return{typed:n,resetTyped:r,handleTypeaheadSearch:(d,c)=>{if(E.has(d))return;const i=t.getCurrentItem(),s=C(n);if(!Array.isArray(s))return;s.push(d.toLowerCase()),n.set(s);const h=c.filter(a=>!(a.getAttribute("disabled")==="true"||a.getAttribute("aria-disabled")==="true"||a.hasAttribute("data-disabled"))),m=s.length>1&&s.every(a=>a===s[0])?s[0]:s.join(""),p=u(i)?h.indexOf(i):-1;let l=v(h,Math.max(p,0));m.length===1&&(l=l.filter(a=>a!==i));const f=l.find(a=>(a==null?void 0:a.innerText)&&a.innerText.toLowerCase().startsWith(m.toLowerCase()));u(f)&&f!==i&&t.onMatch(f),r()}}}const F={orientation:"horizontal",decorative:!1},q=e=>{const t={...F,...e},n=w(t),{orientation:r,decorative:o}=n;return{elements:{root:y("separator",{stores:[r,o],returned:([c,i])=>({role:i?"none":"separator","aria-orientation":c==="vertical"?c:void 0,"aria-hidden":i,"data-orientation":c})})},options:n}};export{j as a,D as b,q as c,_ as d,W as g,T as h,N as r};
