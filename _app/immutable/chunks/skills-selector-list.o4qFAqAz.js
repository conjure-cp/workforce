import{s as Q,w as W,x as X,k as Y,B as re,a as S,g as B,i as C,f as v,t as U,d as q,D as Z,j as oe,e as fe,c as ae,b as ie,r as A,h as ue}from"./scheduler.9Sbh5_-7.js";import{S as y,i as x,e as ee,c as $,a as d,m as h,t as g,b as p,d as k,g as I,f as P}from"./index.BH0f22tV.js";import{e as E}from"./icon.BFr2NlOl.js";import{R as ce,a as R,T as me,P as _e,c as te}from"./person-tooltip.XLeZCZLQ.js";import{C as ge,a as pe,b as $e,c as de,d as ne}from"./skills-list.Cxjy7doc.js";import{B as he,c as T,d as F,p as ke}from"./index.BkpNfLCe.js";import{S as z}from"./skill-badge.D1O7nmTq.js";import{s as le,h as G}from"./person.CuXAW-so.js";function H(r,e,s){const n=r.slice();return n[16]=e[s],n}function be(r){let e,s;return e=new z({props:{skill:G(r[0]),variant:r[1],placeholder:r[2],compact:r[3]}}),{c(){$(e.$$.fragment)},l(n){d(e.$$.fragment,n)},m(n,f){h(e,n,f),s=!0},p(n,f){const t={};f&1&&(t.skill=G(n[0])),f&2&&(t.variant=n[1]),f&4&&(t.placeholder=n[2]),f&8&&(t.compact=n[3]),e.$set(t)},i(n){s||(g(e.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),s=!1},d(n){k(e,n)}}}function we(r){let e,s;return e=new he({props:{builders:[r[19]],variant:"ghost",role:"combobox","aria-expanded":r[6],class:"w-fit h-fit !p-0 rounded-full overflow-visible",$$slots:{default:[be]},$$scope:{ctx:r}}}),{c(){$(e.$$.fragment)},l(n){d(e.$$.fragment,n)},m(n,f){h(e,n,f),s=!0},p(n,f){const t={};f&524288&&(t.builders=[n[19]]),f&64&&(t["aria-expanded"]=n[6]),f&1048591&&(t.$$scope={dirty:f,ctx:n}),e.$set(t)},i(n){s||(g(e.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),s=!1},d(n){k(e,n)}}}function ve(r){let e;return{c(){e=U("No skills found")},l(s){e=q(s,"No skills found")},m(s,n){C(s,e,n)},d(s){s&&v(e)}}}function Ce(r){let e,s,n=F(r[16].name)+"",f,t,o,a;return e=new z({props:{skill:r[16],compact:!0}}),o=new te({props:{class:T("ml-auto h-6 w-6",r[0]!==r[16].uuid&&"text-transparent")}}),{c(){$(e.$$.fragment),s=S(),f=U(n),t=S(),$(o.$$.fragment)},l(l){d(e.$$.fragment,l),s=B(l),f=q(l,n),t=B(l),d(o.$$.fragment,l)},m(l,i){h(e,l,i),C(l,s,i),C(l,f,i),C(l,t,i),h(o,l,i),a=!0},p(l,i){const c={};i&128&&(c.skill=l[16]),e.$set(c),(!a||i&128)&&n!==(n=F(l[16].name)+"")&&oe(f,n);const u={};i&129&&(u.class=T("ml-auto h-6 w-6",l[0]!==l[16].uuid&&"text-transparent")),o.$set(u)},i(l){a||(g(e.$$.fragment,l),g(o.$$.fragment,l),a=!0)},o(l){p(e.$$.fragment,l),p(o.$$.fragment,l),a=!1},d(l){l&&(v(s),v(f),v(t)),k(e,l),k(o,l)}}}function J(r){let e,s;function n(){return r[11](r[16],r[15])}return e=new ne({props:{value:r[16].name+";"+r[16].uuid,onSelect:n,class:"flex flex-row items-center justify-start gap-2",$$slots:{default:[Ce]},$$scope:{ctx:r}}}),{c(){$(e.$$.fragment)},l(f){d(e.$$.fragment,f)},m(f,t){h(e,f,t),s=!0},p(f,t){r=f;const o={};t&128&&(o.value=r[16].name+";"+r[16].uuid),t&32929&&(o.onSelect=n),t&1048705&&(o.$$scope={dirty:t,ctx:r}),e.$set(o)},i(f){s||(g(e.$$.fragment,f),s=!0)},o(f){p(e.$$.fragment,f),s=!1},d(f){k(e,f)}}}function Se(r){let e,s,n,f;return e=new z({props:{skill:void 0,popoverEnabled:!1}}),n=new te({props:{class:T("ml-auto h-6 w-6",r[0]!==void 0&&"text-transparent")}}),{c(){$(e.$$.fragment),s=U(`
          Unassigned
          `),$(n.$$.fragment)},l(t){d(e.$$.fragment,t),s=q(t,`
          Unassigned
          `),d(n.$$.fragment,t)},m(t,o){h(e,t,o),C(t,s,o),h(n,t,o),f=!0},p(t,o){const a={};o&1&&(a.class=T("ml-auto h-6 w-6",t[0]!==void 0&&"text-transparent")),n.$set(a)},i(t){f||(g(e.$$.fragment,t),g(n.$$.fragment,t),f=!0)},o(t){p(e.$$.fragment,t),p(n.$$.fragment,t),f=!1},d(t){t&&v(s),k(e,t),k(n,t)}}}function Be(r){let e,s,n,f=E(r[7]),t=[];for(let l=0;l<f.length;l+=1)t[l]=J(H(r,f,l));const o=l=>p(t[l],1,1,()=>{t[l]=null});function a(){return r[12](r[15])}return s=new ne({props:{value:"unassigned",onSelect:a,class:"flex flex-row items-center justify-start gap-2",$$slots:{default:[Se]},$$scope:{ctx:r}}}),{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=S(),$(s.$$.fragment)},l(l){for(let i=0;i<t.length;i+=1)t[i].l(l);e=B(l),d(s.$$.fragment,l)},m(l,i){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(l,i);C(l,e,i),h(s,l,i),n=!0},p(l,i){if(r=l,i&33185){f=E(r[7]);let u;for(u=0;u<f.length;u+=1){const w=H(r,f,u);t[u]?(t[u].p(w,i),g(t[u],1)):(t[u]=J(w),t[u].c(),g(t[u],1),t[u].m(e.parentNode,e))}for(I(),u=f.length;u<t.length;u+=1)o(u);P()}const c={};i&32801&&(c.onSelect=a),i&1048577&&(c.$$scope={dirty:i,ctx:r}),s.$set(c)},i(l){if(!n){for(let i=0;i<f.length;i+=1)g(t[i]);g(s.$$.fragment,l),n=!0}},o(l){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)p(t[i]);p(s.$$.fragment,l),n=!1},d(l){l&&v(e),Z(t,l),k(s,l)}}}function je(r){let e,s,n,f,t,o;return e=new pe({props:{placeholder:"Search"}}),n=new $e({props:{$$slots:{default:[ve]},$$scope:{ctx:r}}}),t=new de({props:{class:"max-h-[250px] overflow-y-scroll",$$slots:{default:[Be]},$$scope:{ctx:r}}}),{c(){$(e.$$.fragment),s=S(),$(n.$$.fragment),f=S(),$(t.$$.fragment)},l(a){d(e.$$.fragment,a),s=B(a),d(n.$$.fragment,a),f=B(a),d(t.$$.fragment,a)},m(a,l){h(e,a,l),C(a,s,l),h(n,a,l),C(a,f,l),h(t,a,l),o=!0},p(a,l){const i={};l&1048576&&(i.$$scope={dirty:l,ctx:a}),n.$set(i);const c={};l&1081505&&(c.$$scope={dirty:l,ctx:a}),t.$set(c)},i(a){o||(g(e.$$.fragment,a),g(n.$$.fragment,a),g(t.$$.fragment,a),o=!0)},o(a){p(e.$$.fragment,a),p(n.$$.fragment,a),p(t.$$.fragment,a),o=!1},d(a){a&&(v(s),v(f)),k(e,a),k(n,a),k(t,a)}}}function Ne(r){let e,s;return e=new ge({props:{$$slots:{default:[je]},$$scope:{ctx:r}}}),{c(){$(e.$$.fragment)},l(n){d(e.$$.fragment,n)},m(n,f){h(e,n,f),s=!0},p(n,f){const t={};f&1081505&&(t.$$scope={dirty:f,ctx:n}),e.$set(t)},i(n){s||(g(e.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),s=!1},d(n){k(e,n)}}}function Ee(r){let e,s,n,f;return e=new me({props:{asChild:!0,class:r[4],$$slots:{default:[we,({builder:t})=>({19:t}),({builder:t})=>t?524288:0]},$$scope:{ctx:r}}}),n=new _e({props:{class:"w-[200px] p-0",$$slots:{default:[Ne]},$$scope:{ctx:r}}}),{c(){$(e.$$.fragment),s=S(),$(n.$$.fragment)},l(t){d(e.$$.fragment,t),s=B(t),d(n.$$.fragment,t)},m(t,o){h(e,t,o),C(t,s,o),h(n,t,o),f=!0},p(t,o){const a={};o&16&&(a.class=t[4]),o&1572943&&(a.$$scope={dirty:o,ctx:t}),e.$set(a);const l={};o&1081505&&(l.$$scope={dirty:o,ctx:t}),n.$set(l)},i(t){f||(g(e.$$.fragment,t),g(n.$$.fragment,t),f=!0)},o(t){p(e.$$.fragment,t),p(n.$$.fragment,t),f=!1},d(t){t&&v(s),k(e,t),k(n,t)}}}function Te(r){let e,s,n;function f(o){r[13](o)}let t={$$slots:{default:[Ee,({ids:o})=>({15:o}),({ids:o})=>o?32768:0]},$$scope:{ctx:r}};return r[6]!==void 0&&(t.open=r[6]),e=new ce({props:t}),W.push(()=>ee(e,"open",f)),{c(){$(e.$$.fragment)},l(o){d(e.$$.fragment,o)},m(o,a){h(e,o,a),n=!0},p(o,[a]){const l={};a&1081599&&(l.$$scope={dirty:a,ctx:o}),!s&&a&64&&(s=!0,l.open=o[6],X(()=>s=!1)),e.$set(l)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){p(e.$$.fragment,o),n=!1},d(o){k(e,o)}}}function Ve(r,e,s){let n,f;Y(r,le,_=>s(14,f=_));let{skill_uuid:t=void 0}=e,{options:o=f}=e,{variant:a=R.default}=e,{placeholder:l="Choose a skill"}=e,{compact:i=!0}=e,c=!1,{class:u=""}=e,{filter:w=()=>!0}=e,{onChange:j=(_,N)=>N}=e;function m(_){s(6,c=!1),re().then(()=>{var N;(N=document.getElementById(_))==null||N.focus()})}const b=(_,N)=>{s(0,t=j(t,_.uuid)),m(N.trigger)},V=_=>{s(0,t=j(t,void 0)),m(_.trigger)};function D(_){c=_,s(6,c)}return r.$$set=_=>{"skill_uuid"in _&&s(0,t=_.skill_uuid),"options"in _&&s(9,o=_.options),"variant"in _&&s(1,a=_.variant),"placeholder"in _&&s(2,l=_.placeholder),"compact"in _&&s(3,i=_.compact),"class"in _&&s(4,u=_.class),"filter"in _&&s(10,w=_.filter),"onChange"in _&&s(5,j=_.onChange)},r.$$.update=()=>{r.$$.dirty&1536&&s(7,n=o.filter(w))},[t,a,l,i,u,j,c,n,m,o,w,b,V,D]}class se extends y{constructor(e){super(),x(this,e,Ve,Te,Q,{skill_uuid:0,options:9,variant:1,placeholder:2,compact:3,class:4,filter:10,onChange:5})}}function K(r,e,s){const n=r.slice();return n[11]=e[s],n[12]=e,n[13]=s,n}function L(r){let e,s,n;function f(...a){return r[6](r[11],...a)}function t(a){r[7](a,r[11],r[12],r[13])}let o={options:r[4],variant:r[5](r[11],r[13]),compact:r[2],filter:f};return r[11]!==void 0&&(o.skill_uuid=r[11]),e=new se({props:o}),W.push(()=>ee(e,"skill_uuid",t)),{c(){$(e.$$.fragment)},l(a){d(e.$$.fragment,a)},m(a,l){h(e,a,l),n=!0},p(a,l){r=a;const i={};l&1&&(i.variant=r[5](r[11],r[13])),l&4&&(i.compact=r[2]),l&1&&(i.filter=f),!s&&l&1&&(s=!0,i.skill_uuid=r[11],X(()=>s=!1)),e.$set(i)},i(a){n||(g(e.$$.fragment,a),n=!0)},o(a){p(e.$$.fragment,a),n=!1},d(a){k(e,a)}}}function M(r){let e,s;return e=new se({props:{skill_uuid:void 0,options:r[4],onChange:r[8],compact:r[2],filter:r[9]}}),{c(){$(e.$$.fragment)},l(n){d(e.$$.fragment,n)},m(n,f){h(e,n,f),s=!0},p(n,f){const t={};f&1&&(t.onChange=n[8]),f&4&&(t.compact=n[2]),f&1&&(t.filter=n[9]),e.$set(t)},i(n){s||(g(e.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),s=!1},d(n){k(e,n)}}}function De(r){let e,s,n,f,t=E(r[0]),o=[];for(let i=0;i<t.length;i+=1)o[i]=L(K(r,t,i));const a=i=>p(o[i],1,1,()=>{o[i]=null});let l=r[1]===void 0&&M(r);return{c(){e=fe("div");for(let i=0;i<o.length;i+=1)o[i].c();s=S(),l&&l.c(),this.h()},l(i){e=ae(i,"DIV",{class:!0});var c=ie(e);for(let u=0;u<o.length;u+=1)o[u].l(c);s=B(c),l&&l.l(c),c.forEach(v),this.h()},h(){A(e,"class",n="flex flex-row items-center justify-start gap-2 flex-wrap "+r[3])},m(i,c){C(i,e,c);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);ue(e,s),l&&l.m(e,null),f=!0},p(i,[c]){if(c&53){t=E(i[0]);let u;for(u=0;u<t.length;u+=1){const w=K(i,t,u);o[u]?(o[u].p(w,c),g(o[u],1)):(o[u]=L(w),o[u].c(),g(o[u],1),o[u].m(e,s))}for(I(),u=t.length;u<o.length;u+=1)a(u);P()}i[1]===void 0?l?(l.p(i,c),c&2&&g(l,1)):(l=M(i),l.c(),g(l,1),l.m(e,null)):l&&(I(),p(l,1,1,()=>{l=null}),P()),(!f||c&8&&n!==(n="flex flex-row items-center justify-start gap-2 flex-wrap "+i[3]))&&A(e,"class",n)},i(i){if(!f){for(let c=0;c<t.length;c+=1)g(o[c]);g(l),f=!0}},o(i){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)p(o[c]);p(l),f=!1},d(i){i&&v(e),Z(o,i),l&&l.d()}}}function O(r,e){return e===void 0?!1:r.map(s=>s).includes(e.uuid)}function Ie(r,e,s){let n;Y(r,le,m=>s(10,n=m));let f=n,{skill_uuids:t=[]}=e,{n_skills:o=void 0}=e,{compact:a=!0}=e,{class:l=""}=e;function i(m,b){return o!==void 0&&b<o&&m===void 0?R.destructive:R.default}const c=(m,b)=>!O(t,b)||b===void 0||b.uuid===m;function u(m,b,V,D){V[D]=m,s(0,t),s(1,o)}const w=(m,b)=>{s(0,t=[...t,b])},j=m=>m!==void 0&&!O(t,m);return r.$$set=m=>{"skill_uuids"in m&&s(0,t=m.skill_uuids),"n_skills"in m&&s(1,o=m.n_skills),"compact"in m&&s(2,a=m.compact),"class"in m&&s(3,l=m.class)},r.$$.update=()=>{r.$$.dirty&3&&(o!==void 0?(s(0,t=ke(t,o,void 0)),s(0,t=t.sort((m,b)=>m===void 0?1:b===void 0?-1:0))):s(0,t=t.filter(m=>m!==void 0)))},[t,o,a,l,f,i,c,u,w,j]}class He extends y{constructor(e){super(),x(this,e,Ie,De,Q,{skill_uuids:0,n_skills:1,compact:2,class:3})}}export{He as S};
